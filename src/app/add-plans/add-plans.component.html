<!-- Plan form content -->
<div class="space-y-6">
  <h1 class="text-2xl sm:text-3xl font-bold mb-6 text-center text-blue-700">
    {{ 'businessOnboardingQuestionnaire' | translate }}
  </h1>

  <!-- Full Name Section -->
  <div class="mb-6">
    <label class="block text-base sm:text-lg font-semibold mb-2">{{ 'planName' | translate }}</label>
    <input type="text" [(ngModel)]="firstName" #name="ngModel" required autofocus
           [placeholder]="'enterBusinessPlanName' | translate"
           class="w-full p-3 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none">
    <p *ngIf="name.invalid && name.touched" class="text-red-600 text-sm mt-1">{{ 'planNameRequired' | translate }}</p>
  </div>

  <!-- Migrant/Refugee Question -->
  <div class="mb-6">
    <label class="block text-base sm:text-lg font-semibold mb-2">{{ 'migrantQuestion' | translate }}</label>
    <div class="flex gap-4 flex-wrap">
      <button
        (click)="toggleMigrantStatus(true)"
        [ngClass]="{
          'bg-blue-700 text-white': isMigrant,
          'border-blue-500 hover:bg-blue-500 hover:text-white': !isMigrant
        }"
        class="px-4 py-2 border rounded-md transition w-full sm:w-auto">
        {{ 'yes' | translate }}
      </button>
      <button
        (click)="toggleMigrantStatus(false)"
        [ngClass]="{
          'bg-blue-700 text-white': !isMigrant,
          'border-blue-500 hover:bg-blue-500 hover:text-white': isMigrant
        }"
        class="px-4 py-2 border rounded-md transition w-full sm:w-auto">
        {{ 'no' | translate }}
      </button>
    </div>

    <div *ngIf="isMigrant" class="mt-4">
      <label for="" class="block text-base sm:text-lg font-semibold mb-2">{{ 'yearsHereQuestion' | translate }}</label>
      <input type="number" [(ngModel)]="yearsInCountry"
             [placeholder]="'insertYearsPlaceholder' | translate"
             class="w-full p-3 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none">
    </div>
  </div>

  <!-- English Level -->
  <div class="mb-6">
    <label class="block text-base sm:text-lg font-semibold mb-2">{{ 'englishLevel' | translate }}</label>
    <select [(ngModel)]="selectedEnglishLevel"
            class="w-full p-3 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none">
      <option *ngFor="let level of englishLevels" [value]="level">{{ level }}</option>
    </select>
  </div>

  <!-- Business Ownership -->
  <div class="mb-6">
    <label class="block text-base sm:text-lg font-semibold mb-2">{{ 'ownedBusinessQuestion' | translate }}</label>
    <div class="flex gap-4 flex-wrap">
      <button
        (click)="toggleBusinessOwnership(true)"
        [ngClass]="{
          'bg-blue-700 text-white': hasBusiness,
          'border-blue-500 hover:bg-blue-500 hover:text-white': !hasBusiness
        }"
        class="px-4 py-2 border rounded-md transition w-full sm:w-auto">
        {{ 'yes' | translate }}
      </button>
      <button
        (click)="toggleBusinessOwnership(false)"
        [ngClass]="{
          'bg-blue-700 text-white': !hasBusiness,
          'border-blue-500 hover:bg-blue-500 hover:text-white': hasBusiness
        }"
        class="px-4 py-2 border rounded-md transition w-full sm:w-auto">
        {{ 'no' | translate }}
      </button>
    </div>

    <div *ngIf="hasBusiness" class="mt-4">
      <textarea [(ngModel)]="businessDescription"
                [placeholder]="'describeBusinessPlaceholder' | translate"
                rows="4"
                class="w-full p-3 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none">
      </textarea>
    </div>
  </div>

  <!-- About Me -->
  <div class="mb-6">
    <label class="block text-base sm:text-lg font-semibold mb-2">{{ 'aboutMe' | translate }}</label>
    <textarea [(ngModel)]="aboutme"
              class="w-full p-3 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none"
              rows="3"
              [placeholder]="'extraNotesPlaceholder' | translate">
    </textarea>
  </div>

  <!-- Save / Update Buttons -->
  <div class="flex justify-center gap-4 mt-8 flex-wrap">
    <button *ngIf="!isSaved"
            (click)="submitForm()"
            class="px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition w-full sm:w-auto">
      {{ 'savePlan' | translate }}
    </button>
    <button *ngIf="isSaved"
            (click)="updateForm()"
            class="px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition w-full sm:w-auto">
      {{ 'updatePlan' | translate }}
    </button>
  </div>
</div>
