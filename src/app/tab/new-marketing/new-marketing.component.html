<div class="marketing-container">
    <section class="video-section">
      <h2 class="flex items-center gap-2"><i class="fas fa-video"></i><span>{{ 'introductionVideo' | translate }}</span></h2>
      <div class="vedio">
        <video controls src="https://businesstools-admin.valuenationapp.com{{videoUrl}}" ></video>
      </div>
      <p class="video-description">{{videoDescription}}</p>
      <div class="mt-2">
        <button (click)="fillDemoData()" class="btn btn-secondary">{{ 'showDemoData' | translate }}</button>
      </div>
    </section>
  
    <div class="business bg-white p-4 rounded-lg shadow space-y-4">
      <section class="form-section">
        <h2 class="mb-3 flex items-center gap-2"><i class="fas fa-lightbulb text-primary"></i><span>{{ 'yourSolutionFeatures' | translate }}</span></h2>
        <div class="form-group mb-4">
          <label><strong>{{ 'uniqueSolutionFeaturesQuestion' | translate }}</strong>
          </label>
  
          <div class="flex flex-col mb-4 mt-3 space-y-1">
            <label for="">{{ 'option1AiSuggestions' | translate }}</label>
            <div class="flex items-start gap-2">
              <textarea [(ngModel)]="product_feature.options[0]" name="entry_strategy_0"
                class="form-control custom-textarea flex-1" rows="3"
                placeholder=""></textarea>
              <button class="btn btn-link edit-btn" (click)="openSuggestionDialog()">
                <i class="fas fa-robot"></i>
              </button>
            </div>
          </div>
          
          <div class="flex flex-col mb-4 space-y-1">
            <label for="">{{ 'option2AiSuggestions' | translate }}</label>
            <div class="flex items-start gap-2">
              <textarea [(ngModel)]="product_feature.options[1]" name="entry_strategy_1"
                class="form-control custom-textarea flex-1" rows="3"
                placeholder=""></textarea>
              <button class="btn btn-link edit-btn" (click)="openSuggestionDialog1()">
                <i class="fas fa-robot"></i>
              </button>
            </div>
          </div>
          
          <div class="flex flex-col mb-4 space-y-1">
            <label for="">{{ 'option3AiSuggestions' | translate }}</label>
            <div class="flex items-start gap-2">
              <textarea [(ngModel)]="product_feature.options[2]" name="entry_strategy_2"
                class="form-control custom-textarea flex-1" rows="3"
                placeholder=""></textarea>
              <button class="btn btn-link edit-btn" (click)="openSuggestionDialog2()">
                <i class="fas fa-robot"></i>
              </button>
            </div>
          </div>
          
        </div>
  
        <div class="form-group mb-4">
          <label><strong>{{ 'notes' | translate }}</strong></label>
          <textarea [(ngModel)]="product_feature.notes" name="notes" class="form-control custom-textarea" rows="3" [placeholder]="'extraNotesPlaceholder' | translate"></textarea>
        </div>
        
      </section> <!-- نهاية الفورم سيكشن -->
    </div> 
    
    <section class="video-section">
        <h2 class="flex items-center gap-2"><i class="fas fa-video"></i><span>{{ 'marketingActivities' | translate }}</span></h2>
        <div class="vedio">
          <video controls src="https://businesstools-admin.valuenationapp.com{{videoUrl2}}" ></video>
        </div>
        <p class="video-description">{{videoDescription2}}</p>
      </section>
    
      <div class="business bg-white p-4 rounded-lg shadow space-y-4">

        <div *ngFor="let marketing_campaign of marketing_campaigns; let i = index">
          <section class="form-section relative border p-4 rounded-md shadow-sm">
      
            <!-- رأس الحملة مع عنوان وحذف -->
            <div class="flex justify-between items-center mb-3">
              <h2 class="text-lg font-semibold">
                <i class="fas fa-lightbulb text-primary"></i> {{ 'marketingCampaign' | translate }} #{{ i + 1 }}
              </h2>
      
              <!-- زر الحذف يظهر فقط لو في اكثر من حملة -->
              <button *ngIf="marketing_campaigns.length > 1" (click)="removeCampaign(i)" type="button"
                class="text-red-500 hover:text-red-700 text-xl">
                <i class="fas fa-times-circle"></i>
              </button>
            </div>
      
            <!-- الحقول -->
            <div class="form-group mb-4">
              <label><strong>{{ 'goalMessageQuestion' | translate }}</strong></label>
              <div class="flex items-start gap-2 mb-4 mt-3">
                <textarea [(ngModel)]="marketing_campaign.goal" name="goal_{{i}}"
                  class="form-control custom-textarea mt-0 flex-1" rows="3"
                  [placeholder]="'goalPlaceholder' | translate"></textarea>
              </div>
            </div>
      
            <div class="form-group mb-4">
              <label><strong>{{ 'audienceQuestion' | translate }}</strong></label>
              <div class="flex items-start gap-2 mb-4 mt-3">
                <textarea [(ngModel)]="marketing_campaign.audience" name="audience_{{i}}"
                  class="form-control custom-textarea mt-0 flex-1" rows="3"
                  [placeholder]="'audiencePlaceholder' | translate"></textarea>
              </div>
            </div>
      
            <div class="form-group mb-4">
              <label><strong>{{ 'formatQuestion' | translate }}</strong></label>
              <div class="flex items-start gap-2 mb-4 mt-3">
                <textarea [(ngModel)]="marketing_campaign.format" name="format_{{i}}"
                  class="form-control custom-textarea mt-0 flex-1" rows="3"
                  [placeholder]="'formatPlaceholder' | translate"></textarea>
              </div>
            </div>
      
            <div class="form-group mb-4">
              <label><strong>{{ 'channelsYouUse' | translate }}</strong></label>
              <div class="flex items-start gap-2 mb-4 mt-3">
                <textarea [(ngModel)]="marketing_campaign.channels" name="channels_{{i}}"
                  class="form-control custom-textarea mt-0 flex-1" rows="3"
                  [placeholder]="'channelsPlaceholder' | translate"></textarea>
              </div>
            </div>
      
            <div class="form-group mb-4">
              <label><strong>{{ 'notes' | translate }}</strong></label>
              <textarea [(ngModel)]="marketing_campaign.notes" name="notes_{{i}}"
                class="form-control custom-textarea" rows="3" [placeholder]="'extraNotesPlaceholder' | translate"></textarea>
            </div>
      
            <hr class="my-6">
          </section>
        </div>
      
        <button (click)="addCampaign()" class="btn btn-primary mt-6 inline-flex items-center gap-2">
          <i class="fas fa-plus-circle"></i> {{ 'addCampaign' | translate }}
        </button>
      
      </div>
      
      <div class="save-section text-center mt-2">
        <button class="btn btn-primary save-progress" *ngIf="isSaved" (click)="saveProgress()">
          <i class="fas fa-save"></i> {{ 'saveProgress' | translate }}
        </button>
      </div>
      <div class="update-section d-flex justify-content-around">
        <button class="btn btn-primary save-progress"*ngIf="!isSaved" (click)="updateProgress()">
          <i class="fas fa-save"></i> {{ 'updateProgress' | translate }}
        </button>
        <button class="btn btn-primary save-progress"*ngIf="!isSaved" routerLink="/sales-strategy">
          {{ 'next' | translate }}
        </button>
      </div>
      
  </div> <!-- نهاية marketing-container -->
  <button *ngIf="showButton" class="go-up-btn" (click)="scrollToTop()">
    ⬆
  </button>